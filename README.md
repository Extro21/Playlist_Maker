# playlismaker

# Приложение для создания музыкальных подборок "Playlist Maker"

# Техническое задание

Данный проект - это небольшое приложение, которое использует [API сервиса iTunes] для поиска треков. Оно обладает следующими возможностями:

- Поиск треков;
- Воспроизведение выбранных треков;
- Отображение истории прослушивания треков;
- Просмотр подробной информации о каждом треке;
- Создание собственных плейлистов;
- Возможность добавления и удаления понравившихся треков в избранное или в плейлисты;
- возможность поделиться списком песен из плейлиста (сообщение для получателя содержат простой текст со списком треков и названием плейлиста, описанием на следующей строке, количеством треков в формате «[xx] треков», где «[xx]» — количество треков на следующей строке, пронумерованным списком треков плейлиста в формате: номер - исполнитель - название трека - продолжительность.

## Общие требования

- Данное приложение будет совместимо с устройствами, начиная с версии Android 6.0 (API уровень 23) и выше.

## Главный экран -- экран поиска треков

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/fe0a68da-b548-4a8f-ba3d-39227e007e25/a58d3cb4-98e1-44be-80f4-30d2337462c0/Untitled.png)

На данном экране пользователь имеет возможность осуществлять поиск треков по любому непустому набору слов в поисковом запросе. Результаты поиска будут представлены в виде списка, включающего название трека, имя исполнителя и продолжительность.

### Особенности экрана

- При успешном поисковом запросе отображается список треков, в противном случае показывается плейсхолдер. Если отсутствует интернет или возникает ошибка при запросе к серверу, также показывается плейсхолдер.
- Приложение сохраняет историю последних 10 просмотренных треков для отображения при пустом поле поиска, с кнопкой "Очистить историю".
- При вводе нового текста в поле поиска происходит новый поиск с задержкой в 2000 миллисекунд (debounce).

## Экран плеера

На данном экране пользователь имеет возможность прослушать трек, добавить его в избранное или в плейлист, а также вернуться к списку треков.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/fe0a68da-b548-4a8f-ba3d-39227e007e25/fee8f510-25ee-4d37-9a09-d0c003780fba/Untitled.png)

### Особенности экрана

Несколько особенностей экрана, которые нужно учитывать при реализации:

- При нажатии на любой трек мы переходим на этот экран.
- Мы видим полное описание трека (год, жанр, страну, альбом, время прослушивания, продолжительность и обложку).
- При нажатии на кнопку play включается трек и запускается время прослушивания, если приложение сворачивается, то при восстановлении приложения время остаётся на том же месте где и было при сворачивание приложения.
- Если у трека нету обложки на её месте отображается плейсхолдер.
- Так же на экране отображаются 2 кнопки (добавить трек в плейлист и добавить трек в избранное).
- При нажатие на кнопку "добавить в плейлист" появляется BottomSheet в который есть кнопка "новый плейлист", которая переводит нас на экран создания плейлиста, и список плейлистов. У плейлистов мы видим название, обложку, количество треков. При добавление трека в один из плейлистов , колличество треков увеличиваеться.
- Кнопка "добавить в избранное" выполнена в виде сердечка, если трек добавлен в избранное то сердце должно быть красного цвета, если трека нету списке избранного, то он будет серого цвета.

## Экран Медиатека

Экран "Медиатека" служит контейнером для фрагментов "Избранные треки" и "Плейлисты", и навигация между ними осуществляется с помощью TabLayoutMediator.

Фрагмент “Избранные треки”:

- На экране "Избранные треки" мы видим все треки, которые были добавлены туда. У каждой композиции отображается название, имя исполнителя, продолжительность и обложка.
- При нажатии на трек мы переходим на экран плеера.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/fe0a68da-b548-4a8f-ba3d-39227e007e25/f4324d76-60b4-46ca-b776-e369e5d9bff2/Untitled.png)

Фрагмент “Плейлисты”:

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/fe0a68da-b548-4a8f-ba3d-39227e007e25/04adad73-a288-48d3-b0da-08ac8c1f238b/Untitled.png)

- На вкладке "Плейлисты" отображается список всех созданных плейлистов в виде сетки с двумя столбцами, используя GridLayoutManager. Также присутствует кнопка "Новый плейлист".
- При нажатии на кнопку "Новый плейлист" открывается экран для создания нового списка, где необходимо указать название, описание и добавить обложку. Кнопка "Создать" останется неактивной до ввода названия. Если пользователь начал вводить данные и решает вернуться на экран назад, появится предупреждающее окно, предлагающее отменить операцию или завершить её.
- При нажатии на плейлист мы переходим на экран "Плейлист". Здесь мы видим обложку, название, описание, количество треков, общую продолжительность всех треков, две кнопки (поделиться и настройки) и BottomSheet, в котором указан список всех треков в плейлисте.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/fe0a68da-b548-4a8f-ba3d-39227e007e25/5a879888-3f28-461e-8fb5-50940d2255ec/Untitled.png)

- При нажатии на трек мы переходим на экран плеера. При длительном нажатии на трек появляется диалоговое окно, которое предлагает удалить трек из плейлиста.
- При нажатии на кнопку "Поделиться" появляется окно с выбором подходящего приложения, пользователю, с которым мы делимся плейлистом, приходит сообщение в формате: название плейлиста, описание, количество треков и пронумерованные треки.
- При нажатии на кнопку "Настройки" BottomSheet со списком треков скрывается, а появляется другое окно. В его заголовке отображается название плейлиста, обложка и количество треков. Мы можем удалить плейлист, отредактировать его или поделиться.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/fe0a68da-b548-4a8f-ba3d-39227e007e25/70c4e880-44ee-46f7-ad7d-097d7eacc4f7/Untitled.png)

## Экран Настройки

На этом экране можно выбрать темную и светлую темы для приложения.

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/fe0a68da-b548-4a8f-ba3d-39227e007e25/65e240e3-ade8-44c5-bec9-c000cf038631/Untitled.png)

### Особенности экрана

- Для сохранения темной и светлой темы для приложения используем SharedPreference
